<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This workshop is going to take you through the best-in-class observability solution for ingesting, monitoring, visualizing and analyzing data"><link href=https://signalfx.github.io/observability-workshop/victorops/optional/multipass/ rel=canonical><meta name=author content="Sales Engineering"><link rel="shortcut icon" href=../../../images/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.12"><title>Using Multipass VM - Splunk Observability Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.4dd2dd8d.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.6a5ad368.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CUbuntu+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../stylesheets/extra.css></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary data-md-color-accent> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#creating-a-test-vm-using-multipass class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://signalfx.github.io/observability-workshop/ title="Splunk Observability Workshop" class="md-header-nav__button md-logo" aria-label="Splunk Observability Workshop"> <img src=../../../images/logo.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Splunk Observability Workshop </span> <span class="md-header-nav__topic md-ellipsis"> Using Multipass VM </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/signalfx/observability-workshop/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../smartagent/ class=md-tabs__link> <b>SignalFx</b> </a> </li> <li class=md-tabs__item> <a href=../../getting_started/ class=md-tabs__link> <b>VictorOps</b> </a> </li> <li class=md-tabs__item> <a href=../../../resources/ class=md-tabs__link> <b>Resources</b> </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://signalfx.github.io/observability-workshop/ title="Splunk Observability Workshop" class="md-nav__button md-logo" aria-label="Splunk Observability Workshop"> <img src=../../../images/logo.png alt=logo> </a> Splunk Observability Workshop </label> <div class=md-nav__source> <a href=https://github.com/signalfx/observability-workshop/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> <b>SignalFx</b> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>SignalFx</b>" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> <b>SignalFx</b> </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1> <label class=md-nav__link for=nav-2-1> <b>Get Data In</b><br><small>20 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Get Data In</b><br /><small>20 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-1> <span class="md-nav__icon md-icon"></span> <b>Get Data In</b><br><small>20 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../smartagent/ title="Workshop Introduction" class=md-nav__link> Workshop Introduction </a> </li> <li class=md-nav__item> <a href=../../../smartagent/connect-info/ title="Access AWS/EC2 instance" class=md-nav__link> Access AWS/EC2 instance </a> </li> <li class=md-nav__item> <a href=../../../smartagent/k3s/ title="Deploy the Smart Agent in K3s" class=md-nav__link> Deploy the Smart Agent in K3s </a> </li> <li class=md-nav__item> <a href=../../../smartagent/nginx/ title="Deploy NGINX in K3s" class=md-nav__link> Deploy NGINX in K3s </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> <b>Dashboards</b><br><small>30 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Dashboards</b><br /><small>30 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"></span> <b>Dashboards</b><br><small>30 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dashboards/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../dashboards/editing/ title="Editing charts" class=md-nav__link> Editing charts </a> </li> <li class=md-nav__item> <a href=../../../dashboards/filtering/ title="Using filters" class=md-nav__link> Using filters </a> </li> <li class=md-nav__item> <a href=../../../dashboards/formulas/ title="Using formulas" class=md-nav__link> Using formulas </a> </li> <li class=md-nav__item> <a href=../../../dashboards/overlay/ title="Using overlays" class=md-nav__link> Using overlays </a> </li> <li class=md-nav__item> <a href=../../../dashboards/signalflow/ title=SignalFlow class=md-nav__link> SignalFlow </a> </li> <li class=md-nav__item> <a href=../../../dashboards/adding-charts/ title="Adding charts" class=md-nav__link> Adding charts </a> </li> <li class=md-nav__item> <a href=../../../dashboards/datalinks/ title="Integration to Splunk" class=md-nav__link> Integration to Splunk </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> <b>Detectors</b><br><small>15 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Detectors</b><br /><small>15 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"></span> <b>Detectors</b><br><small>15 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../detectors/detectors/ title="Creating a Detector" class=md-nav__link> Creating a Detector </a> </li> <li class=md-nav__item> <a href=../../../detectors/muting/ title="Creating a Muting Rule" class=md-nav__link> Creating a Muting Rule </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> <b>Monitoring as Code</b><br><small>10 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Monitoring as Code</b><br /><small>10 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"></span> <b>Monitoring as Code</b><br><small>10 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../monitoring-as-code/ title="Initial Setup" class=md-nav__link> Initial Setup </a> </li> <li class=md-nav__item> <a href=../../../monitoring-as-code/plan-and-apply/ title="Plan, Apply and Destroy" class=md-nav__link> Plan, Apply and Destroy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> <b>µAPM</b><br><small>30 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>µAPM</b><br /><small>30 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-5> <span class="md-nav__icon md-icon"></span> <b>µAPM</b><br><small>30 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apm/ title="µAPM Architecture Overview" class=md-nav__link> µAPM Architecture Overview </a> </li> <li class=md-nav__item> <a href=../../../apm/hotrod/ title="Deploying Hot R.O.D. in K3s" class=md-nav__link> Deploying Hot R.O.D. in K3s </a> </li> <li class=md-nav__item> <a href=../../../apm/hotrod-trouble-timebased/ title="Troubleshooting Hot R.O.D." class=md-nav__link> Troubleshooting Hot R.O.D. </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6 type=checkbox id=nav-2-6> <label class=md-nav__link for=nav-2-6> <b>Service Bureau</b><br><small>20 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Service Bureau</b><br /><small>20 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-2-6> <span class="md-nav__icon md-icon"></span> <b>Service Bureau</b><br><small>20 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../servicebureau/billing-and-usage/ title="Billing and Usage" class=md-nav__link> Billing and Usage </a> </li> <li class=md-nav__item> <a href=../../../servicebureau/teams/ title=Teams class=md-nav__link> Teams </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> <b>VictorOps</b> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>VictorOps</b>" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> <b>VictorOps</b> </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> <b>Getting Started</b><br><small>45 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Getting Started</b><br /><small>45 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"></span> <b>Getting Started</b><br><small>45 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/ title="Initial Setup" class=md-nav__link> Initial Setup </a> </li> <li class=md-nav__item> <a href=../../getting_started/user_profile/ title="User Profile" class=md-nav__link> User Profile </a> </li> <li class=md-nav__item> <a href=../../getting_started/team/ title=Teams class=md-nav__link> Teams </a> </li> <li class=md-nav__item> <a href=../../getting_started/rotations/ title="Configure Rotations" class=md-nav__link> Configure Rotations </a> </li> <li class=md-nav__item> <a href=../../getting_started/escalation/ title="Configure Escalation Policies" class=md-nav__link> Configure Escalation Policies </a> </li> <li class=md-nav__item> <a href=../../getting_started/routing/ title="Creating Routing keys" class=md-nav__link> Creating Routing keys </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> <b>Incident Lifecycle</b><br><small>45 minutes</small> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Incident Lifecycle</b><br /><small>45 minutes</small>" data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"></span> <b>Incident Lifecycle</b><br><small>45 minutes</small> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../incident_lifecycle/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../incident_lifecycle/create_incidents/ title="Create Incidents" class=md-nav__link> Create Incidents </a> </li> <li class=md-nav__item> <a href=../../incident_lifecycle/manage_incidents/ title="Manage Incidents" class=md-nav__link> Manage Incidents </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../cleanup/ title="Workshop Clean-up2 minutes" class=md-nav__link> <b>Workshop Clean-up</b><br><small>2 minutes</small> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4 checked> <label class=md-nav__link for=nav-3-4> <b>Optional Modules</b> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Optional Modules</b>" data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"></span> <b>Optional Modules</b> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sfx_integrations/ title="SignalFx Integration" class=md-nav__link> SignalFx Integration </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Using Multipass VM <span class="md-nav__icon md-icon"></span> </label> <a href=./ title="Using Multipass VM" class="md-nav__link md-nav__link--active"> Using Multipass VM </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#aim class=md-nav__link> Aim </a> </li> <li class=md-nav__item> <a href=#1-install-multipass class=md-nav__link> 1. Install Multipass </a> </li> <li class=md-nav__item> <a href=#2-create-vm-using-multipass class=md-nav__link> 2. Create VM using Multipass </a> <nav class=md-nav aria-label="2. Create VM using Multipass"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-cloud-init class=md-nav__link> 2.1 Cloud-init </a> </li> <li class=md-nav__item> <a href=#22-launch-vm class=md-nav__link> 2.2 Launch VM </a> </li> <li class=md-nav__item> <a href=#23-connect-to-vm class=md-nav__link> 2.3 Connect to VM </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-install-signalfx-agent class=md-nav__link> 3. Install SignalFx Agent </a> <nav class=md-nav aria-label="3. Install SignalFx Agent"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-signalfx-ui class=md-nav__link> 3.1 SignalFx UI </a> </li> <li class=md-nav__item> <a href=#32-install-agent class=md-nav__link> 3.2 Install Agent </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-check-signalfx-agent class=md-nav__link> 4. Check SignalFx Agent </a> <nav class=md-nav aria-label="4. Check SignalFx Agent"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41-agent-status class=md-nav__link> 4.1 Agent Status </a> </li> <li class=md-nav__item> <a href=#42-check-the-signalfx-ui class=md-nav__link> 4.2 Check the SignalFx UI </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../detector/ title="Create a Detector" class=md-nav__link> Create a Detector </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> <b>Resources</b> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="<b>Resources</b>" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> <b>Resources</b> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/ title=Links class=md-nav__link> Links </a> </li> <li class=md-nav__item> <a href=../../../resources/faq/ title=FAQ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#aim class=md-nav__link> Aim </a> </li> <li class=md-nav__item> <a href=#1-install-multipass class=md-nav__link> 1. Install Multipass </a> </li> <li class=md-nav__item> <a href=#2-create-vm-using-multipass class=md-nav__link> 2. Create VM using Multipass </a> <nav class=md-nav aria-label="2. Create VM using Multipass"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-cloud-init class=md-nav__link> 2.1 Cloud-init </a> </li> <li class=md-nav__item> <a href=#22-launch-vm class=md-nav__link> 2.2 Launch VM </a> </li> <li class=md-nav__item> <a href=#23-connect-to-vm class=md-nav__link> 2.3 Connect to VM </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-install-signalfx-agent class=md-nav__link> 3. Install SignalFx Agent </a> <nav class=md-nav aria-label="3. Install SignalFx Agent"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-signalfx-ui class=md-nav__link> 3.1 SignalFx UI </a> </li> <li class=md-nav__item> <a href=#32-install-agent class=md-nav__link> 3.2 Install Agent </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-check-signalfx-agent class=md-nav__link> 4. Check SignalFx Agent </a> <nav class=md-nav aria-label="4. Check SignalFx Agent"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41-agent-status class=md-nav__link> 4.1 Agent Status </a> </li> <li class=md-nav__item> <a href=#42-check-the-signalfx-ui class=md-nav__link> 4.2 Check the SignalFx UI </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=creating-a-test-vm-using-multipass>Creating a Test VM Using Multipass<a class=headerlink href=#creating-a-test-vm-using-multipass title="Permanent link">&para;</a></h1> <h2 id=aim>Aim<a class=headerlink href=#aim title="Permanent link">&para;</a></h2> <p>The aim of this module is to guide you through the process of creating a VM locally using Multipass.</p> <p>Once the configuration of VictorOps is complete you will use this VM to trigger an Alert from SignalFx which in turn will create an Incident within VictorOps, resulting in you getting paged.</p> <hr> <h2 id=1-install-multipass>1. Install Multipass<a class=headerlink href=#1-install-multipass title="Permanent link">&para;</a></h2> <p>If you do not already have Multipass installed you can download the installer from <a href=https://multipass.run/ target=_blank>here</a>.</p> <p>Users running macOS can install it using <a href=https://brew.sh/ target=_blank>Homebrew</a> by running:</p> <div class=tabbed-set data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>Shell Command</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>brew cask install multipass
</code></pre></div> </div> </div> <hr> <h2 id=2-create-vm-using-multipass>2. Create VM using Multipass<a class=headerlink href=#2-create-vm-using-multipass title="Permanent link">&para;</a></h2> <h3 id=21-cloud-init>2.1 Cloud-init<a class=headerlink href=#21-cloud-init title="Permanent link">&para;</a></h3> <p>The first step is to pull down the <code>cloud-init</code> file to launch a pre-configured VM.</p> <div class=tabbed-set data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>Shell Command</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>WSVERSION=1.42
curl -s \
https://raw.githubusercontent.com/signalfx/observability-workshop/v$WSVERSION/cloud-init/victorops.yaml \
-o victorops.yaml
</code></pre></div> </div> </div> <h3 id=22-launch-vm>2.2 Launch VM<a class=headerlink href=#22-launch-vm title="Permanent link">&para;</a></h3> <p>Remaining in the same directory where you downloaded <code>victorops.yaml</code>, run the following commands to create your VM.</p> <p>The first command will generate a random unique 4 character string. This will prevent clashes in the SignalFx UI.</p> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>Shell Command</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>export INSTANCE=$(cat /dev/urandom | base64 | tr -dc &#39;a-z&#39; | head -c4)
multipass launch \
--name ${INSTANCE} \
--cloud-init victorops.yaml
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>Example Output</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>Launched: zevn
</code></pre></div> </div> </div> <p>Make a note of your VMs Hostname as you will need it in later steps.</p> <h3 id=23-connect-to-vm>2.3 Connect to VM<a class=headerlink href=#23-connect-to-vm title="Permanent link">&para;</a></h3> <p>Once the VM has deployed successfully, in a <strong>new</strong> shell session connect to the VM using the following command.</p> <div class=tabbed-set data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>Shell Command</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>multipass shell ${INSTANCE}
</code></pre></div> </div> <input id=__tabbed_4_2 name=__tabbed_4 type=radio><label for=__tabbed_4_2>Example Input</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>multipass shell zevn
</code></pre></div> </div> <input id=__tabbed_4_3 name=__tabbed_4 type=radio><label for=__tabbed_4_3>Example Output</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>Last login: Tue Jun  9 15:10:19 2020 from 192.168.64.1
ubuntu@zevn:~$
</code></pre></div> </div> </div> <hr> <h2 id=3-install-signalfx-agent>3. Install SignalFx Agent<a class=headerlink href=#3-install-signalfx-agent title="Permanent link">&para;</a></h2> <p>An easy way to install the SignalFx Agent into your VM is to copy the install commands from the SignalFx UI, then run them directly within your VM.</p> <h3 id=31-signalfx-ui>3.1 SignalFx UI<a class=headerlink href=#31-signalfx-ui title="Permanent link">&para;</a></h3> <p>Navigate to the <strong>Integrations</strong> tab within the SignalFx UI, where you will find the SignalFx SmartAgent tile on the top row.</p> <p>Click on the SmartAgent tile to open it...</p> <p><img alt=Integrations class=zoom src=../../../images/victorops/integrations-tab.png></p> <p>...then select the <strong>Setup</strong> tab...</p> <p><img alt=SmartAgent class=zoom src=../../../images/victorops/smartagent-tile.png></p> <p>...then scroll down to 'Step 1' where you will find the commands for installing the agent for both Linux and Windows. You need to copy the commands for Linux, so click the top <strong class="label-button sfx-ui-button-blue">copy</strong> button to place these commands on your clipboard ready for the next step.</p> <p><img alt="SmartAgent Install" class=zoom src=../../../images/victorops/smartagent-install.png></p> <h3 id=32-install-agent>3.2 Install Agent<a class=headerlink href=#32-install-agent title="Permanent link">&para;</a></h3> <p>Now paste the linux install commands into your VM Shell, the SignalFx Agent will install and after approx 1 min you should have the following result.</p> <div class=tabbed-set data-tabs=5:1><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>Example Output</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>The SignalFx Agent has been successfully installed.

Make sure that your system&#39;s time is relatively accurate or else datapoints may not be accepted.

The agent&#39;s main configuration file is located at /etc/signalfx/agent.yaml.
</code></pre></div> </div> </div> <hr> <h2 id=4-check-signalfx-agent>4. Check SignalFx Agent<a class=headerlink href=#4-check-signalfx-agent title="Permanent link">&para;</a></h2> <h3 id=41-agent-status>4.1 Agent Status<a class=headerlink href=#41-agent-status title="Permanent link">&para;</a></h3> <p>Once the agent has completed installing run the following command to check the status</p> <div class=tabbed-set data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><label for=__tabbed_6_1>Shell Command</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>sudo signalfx-agent status
</code></pre></div> </div> <input id=__tabbed_6_2 name=__tabbed_6 type=radio><label for=__tabbed_6_2>Example Output</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>SignalFx Agent version:           5.3.0
Agent uptime:                     2m7s
Observers active:                 host
Active Monitors:                  9
Configured Monitors:              9
Discovered Endpoint Count:        6
Bad Monitor Config:               None
Global Dimensions:                {host: zevn}
GlobalSpanTags:                   map[]
Datapoints sent (last minute):    237
Datapoints failed (last minute):  0
Datapoints overwritten (total):   0
Events Sent (last minute):        18
Trace Spans Sent (last minute):   0
Trace Spans overwritten (total):  0

Additional status commands:

signalfx-agent status config - show resolved config in use by agent
signalfx-agent status endpoints - show discovered endpoints
signalfx-agent status monitors - show active monitors
signalfx-agent status all - show everything
</code></pre></div> </div> </div> <h3 id=42-check-the-signalfx-ui>4.2 Check the SignalFx UI<a class=headerlink href=#42-check-the-signalfx-ui title="Permanent link">&para;</a></h3> <p>Navigate to the SignalFx UI and click on the <strong>Infrastructure</strong> tab. The click on <strong>Hosts (Smart Agent / collectd)</strong> under the <strong>Hosts</strong> section.</p> <p>Find your VM and confirm it is reporting in correctly; allow a few minutes for it to appear.</p> <p><img alt=Infrastructure class=zoom src=../../../images/victorops/sfx-infrastructure.png></p> <p>If it fails to appear after 3 mins, please let the Splunk Team know so they can help troubleshoot.</p> <hr> <p>Because you are using a Multipass VM instead of a Splunk Provided EC2 Instance, you will also need to complete the optional module "Create a Detector". This will ensure you receive incident notifications for this VM.</p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">September 4, 2020 12:59:13</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../sfx_integrations/ title="SignalFx Integration" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> SignalFx Integration </div> </div> </a> <a href=../detector/ title="Create a Detector" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Create a Detector </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Splunk Inc. All rights reserved. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/signalfx/observability-workshop target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://twitter.com/splunk target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/splunk/ target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.3636a4ec.min.js></script> <script src=../../../assets/javascripts/bundle.e9fe3281.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=../../../javascripts/extra.js></script> </body> </html>